name: Trading Signal Bot
description: Automated trading bot that executes signals from Discord channels
version: 1.0.0
logo: https://yourdomain.com/logo.png
tagline: Follow trading signals automatically
website: https://yourdomain.com
support: https://yourdomain.com/support

# Digital Ocean configuration
marketplace:
  category: apps

# Droplet specifications
droplet:
  size: s-1vcpu-1gb  # $6/month
  image: ubuntu-22-04-x64
  regions:
    - nyc1
    - nyc3
    - sfo3

# Installation script
user_data: |
  #!/bin/bash
  
  # Update system
  apt-get update
  apt-get upgrade -y
  
  # Install Node.js 20
  curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
  apt-get install -y nodejs
  
  # Install PM2 (process manager)
  npm install -g pm2
  
  # Install nginx for reverse proxy
  apt-get install -y nginx
  
  # Create app directory
  mkdir -p /opt/trading-bot
  cd /opt/trading-bot
  
  # Download bot application
  curl -L https://github.com/yourusername/trading-bot/archive/main.tar.gz | tar xz --strip-components=1 || {
    # Fallback: clone from git
    apt-get install -y git
    git clone https://github.com/yourusername/trading-bot.git .
  }
  
  # Install dependencies
  npm install --production
  
  # Create environment file
  cat > .env << EOL
  NODE_ENV=production
  PORT=3000
  FIRST_RUN=true
  EOL
  
  # Setup nginx reverse proxy
  cat > /etc/nginx/sites-available/trading-bot << NGINX
  server {
      listen 80;
      server_name _;
      
      location / {
          proxy_pass http://localhost:3000;
          proxy_http_version 1.1;
          proxy_set_header Upgrade \$http_upgrade;
          proxy_set_header Connection 'upgrade';
          proxy_set_header Host \$host;
          proxy_cache_bypass \$http_upgrade;
      }
  }
  NGINX
  
  ln -sf /etc/nginx/sites-available/trading-bot /etc/nginx/sites-enabled/
  rm -f /etc/nginx/sites-enabled/default
  nginx -t && systemctl reload nginx
  
  # Start configuration server
  pm2 start index.js --name trading-bot
  pm2 save
  pm2 startup systemd -u root --hp /root
  
  # Setup firewall
  ufw allow 22/tcp
  ufw allow 80/tcp
  ufw allow 443/tcp
  ufw --force enable
  
  # Get public IP
  IP=$(curl -s http://169.254.169.254/metadata/v1/interfaces/public/0/ipv4/address)
  
  # Create setup message
  cat > /root/setup-info.txt << INFO
  ================================================
  Trading Bot Installation Complete!
  
  Configure your bot at: http://$IP
  ================================================
  INFO
  
  cat /root/setup-info.txt




